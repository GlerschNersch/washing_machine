alias: üß∫ Washer Done Notification
description: Notify and announce when the washer cycle completes
trigger:
  - platform: state
    entity_id: binary_sensor.washer_done
    from: "off"
    to: "on"
condition: []
action:
  # 1Ô∏è‚É£ Notify Dad's phone
  - service: notify.mobile_app_sm_s938u1
    data:
      title: "‚úÖ Laundry Complete"
      message: "The washer cycle is done!"

  # 2Ô∏è‚É£ Speak on Kitchen Display
  - service: tts.speak
    metadata: {}
    data:
      cache: true
      media_player_entity_id: media_player.kitchen_display_2
      message: "The washing machine is done. Please move the clothes to the dryer."
    target:
      entity_id: tts.google_translate_en_com

  # 3Ô∏è‚É£ (Optional) Browser_mod popup to Hallway display
  - service: browser_mod.popup
    data:
      browser_id: hallway
      title: "üß∫ Washer Complete"
      content: |
        <h2 style="color:#ffb84d; font-family:'VT323', monospace;">Cycle Finished!</h2>
        <p style="font-size:1.2em; color:#ffb84d;">The washer is done. Time to switch loads!</p>
      autoclose: false
      right_button:
        label: "Dismiss"
        action: close

mode: single
